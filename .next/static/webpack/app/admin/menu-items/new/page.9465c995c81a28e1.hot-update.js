"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/menu-items/new/page",{

/***/ "(app-pages-browser)/./src/app/admin/menu-items/_actions/product.ts":
/*!******************************************************!*\
  !*** ./src/app/admin/menu-items/_actions/product.ts ***!
  \******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addProduct: () => (/* binding */ addProduct),\n/* harmony export */   deleteProduct: () => (/* binding */ deleteProduct),\n/* harmony export */   updateProduct: () => (/* binding */ updateProduct)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-client-wrapper */ \"(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js\");\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__);\n// app/menu-items/_actions/product.ts\n/* __next_internal_action_entry_do_not_use__ {\"7f4c225fe55ad2577323f74a2d6ebe3161ba322082\":\"updateProduct\",\"7f6aaa58bd3dc4a58942c640ae551b024809d536c7\":\"addProduct\",\"7f934b34d4e58ad81fa36baa119f57d93b27aed560\":\"deleteProduct\"} */ \nvar addProduct = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"7f6aaa58bd3dc4a58942c640ae551b024809d536c7\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"addProduct\");\nvar updateProduct = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"7f4c225fe55ad2577323f74a2d6ebe3161ba322082\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"updateProduct\");\nvar deleteProduct = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"7f934b34d4e58ad81fa36baa119f57d93b27aed560\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"deleteProduct\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvYWRtaW4vbWVudS1pdGVtcy9fYWN0aW9ucy9wcm9kdWN0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEscUNBQXFDOztJQXVNeEJBLDJCQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUF3S0FDLDhCQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUE7SUEwS0FDLDhCQUFBQSw2RkFBQUEsK0NBQUFBLDhFQUFBQSxVQUFBQSxvRkFBQUEiLCJzb3VyY2VzIjpbIkQ6XFxwb3J0Zm9saW9cXHBvcnRmb2xpby0xXFxzcmNcXGFwcFxcYWRtaW5cXG1lbnUtaXRlbXNcXF9hY3Rpb25zXFxwcm9kdWN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGFwcC9tZW51LWl0ZW1zL19hY3Rpb25zL3Byb2R1Y3QudHNcblwidXNlIHNlcnZlclwiO1xuXG5pbXBvcnQgeyBkYiB9IGZyb20gXCJAL2xpYi9wcmlzbWFcIjtcbmltcG9ydCB7IFBhZ2VzLCBSb3V0ZXMgfSBmcm9tIFwiQC9jb25zdGFudHMvZW51bXNcIjtcbmltcG9ydCB7IGFkZFByb2R1Y3RTY2hlbWEsIFByb2R1Y3RWYWxpZGF0ZWREYXRhIH0gZnJvbSBcIkAvYXBwL3ZhbGlkYXRpb25zL3Byb2R1Y3RcIjtcbmltcG9ydCB7IFBhY2thZ2VPcHRpb24sIFByb2R1Y3RBZGRvbiwgUHJvZHVjdFRlY2ggfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcbmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSBcIm5leHQvY2FjaGVcIjtcblxuLy8gQ29uc3RhbnRzXG5jb25zdCBNQVhfSU1BR0VfU0laRSA9IDE1ICogMTAyNCAqIDEwMjQ7IC8vIDE1TUJcbmNvbnN0IFZBTElEX0lNQUdFX1RZUEVTID0gW1xuICBcImltYWdlL2pwZWdcIixcbiAgXCJpbWFnZS9wbmdcIixcbiAgXCJpbWFnZS9naWZcIixcbiAgXCJpbWFnZS93ZWJwXCIsXG4gIFwiaW1hZ2Uvc3ZnK3htbFwiLFxuICBcImltYWdlL2JtcFwiLFxuXTtcbmNvbnN0IExPR19QUkVGSVggPSBcIltTZXJ2ZXJBY3Rpb25zXVwiO1xuY29uc3QgTUFYX1VQTE9BRF9SRVRSSUVTID0gMztcbmNvbnN0IEJBU0VfUkVUUllfREVMQVlfTVMgPSAxMDAwO1xuXG4vLyBUeXBlc1xuaW50ZXJmYWNlIEFjdGlvblJlc3BvbnNlIHtcbiAgc3RhdHVzOiBudW1iZXI7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgZXJyb3I/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICBmb3JtRGF0YT86IEZvcm1EYXRhO1xufVxuXG5pbnRlcmZhY2UgUHJvZHVjdE9wdGlvbnMge1xuICBwcm9kdWN0VGVjaHM6IFBhcnRpYWw8UHJvZHVjdFRlY2g+W107XG4gIHByb2R1Y3RBZGRvbnM6IFBhcnRpYWw8UHJvZHVjdEFkZG9uPltdO1xufVxuXG5pbnRlcmZhY2UgQWRkUHJvZHVjdEFyZ3Mge1xuICBjYXRlZ29yeUlkOiBzdHJpbmc7XG4gIG9wdGlvbnM6IFByb2R1Y3RPcHRpb25zO1xufVxuXG5pbnRlcmZhY2UgVXBkYXRlUHJvZHVjdEFyZ3Mge1xuICBwcm9kdWN0SWQ6IHN0cmluZztcbiAgb3B0aW9uczogUHJvZHVjdE9wdGlvbnM7XG59XG5cbi8qKlxuICogRGVsYXlzIGV4ZWN1dGlvbiBmb3IgYSBzcGVjaWZpZWQgdGltZS5cbiAqIEBwYXJhbSBtcyAtIE1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciB0aGUgZGVsYXkuXG4gKi9cbmNvbnN0IGRlbGF5ID0gKG1zOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+ID0+IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG5cbi8qKlxuICogVmFsaWRhdGVzIGFuZCB1cGxvYWRzIGFuIGltYWdlIGZpbGUgd2l0aCByZXRyeSBsb2dpYyBhbmQgZXhwb25lbnRpYWwgYmFja29mZi5cbiAqIEBwYXJhbSBpbWFnZUZpbGUgLSBUaGUgaW1hZ2UgZmlsZSB0byB1cGxvYWQuXG4gKiBAcmV0dXJucyBVUkwgb2YgdGhlIHVwbG9hZGVkIGltYWdlLlxuICogQHRocm93cyBFcnJvciBpZiB0aGUgdXBsb2FkIGZhaWxzIGFmdGVyIHJldHJpZXMuXG4gKi9cbmNvbnN0IHVwbG9hZEltYWdlID0gYXN5bmMgKGltYWdlRmlsZTogRmlsZSk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gIGNvbnN0IHJlcXVlc3RJZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gIGNvbnNvbGUubG9nKGAke0xPR19QUkVGSVh9IFske3JlcXVlc3RJZH1dIFZhbGlkYXRpbmcgaW1hZ2U6ICR7aW1hZ2VGaWxlLm5hbWV9ICgke2ltYWdlRmlsZS5zaXplfSBieXRlcywgdHlwZTogJHtpbWFnZUZpbGUudHlwZX0pYCk7XG5cbiAgaWYgKCFWQUxJRF9JTUFHRV9UWVBFUy5pbmNsdWRlcyhpbWFnZUZpbGUudHlwZSkpIHtcbiAgICBjb25zb2xlLmVycm9yKGAke0xPR19QUkVGSVh9IFske3JlcXVlc3RJZH1dIEludmFsaWQgaW1hZ2UgdHlwZTogJHtpbWFnZUZpbGUudHlwZX1gKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaW1hZ2UgdHlwZTogJHtpbWFnZUZpbGUudHlwZX0uIFN1cHBvcnRlZCB0eXBlczogJHtWQUxJRF9JTUFHRV9UWVBFUy5qb2luKFwiLCBcIil9YCk7XG4gIH1cbiAgaWYgKGltYWdlRmlsZS5zaXplID4gTUFYX0lNQUdFX1NJWkUpIHtcbiAgICBjb25zdCBzaXplTUIgPSAoaW1hZ2VGaWxlLnNpemUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDIpO1xuICAgIGNvbnNvbGUuZXJyb3IoYCR7TE9HX1BSRUZJWH0gWyR7cmVxdWVzdElkfV0gSW1hZ2UgdG9vIGxhcmdlOiAke3NpemVNQn1NQmApO1xuICAgIHRocm93IG5ldyBFcnJvcihgSW1hZ2Ugc2l6ZSAoJHtzaXplTUJ9TUIpIGV4Y2VlZHMgdGhlIDE1TUIgbGltaXRgKTtcbiAgfVxuXG4gIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gIGZvcm1EYXRhLmFwcGVuZChcImZpbGVcIiwgaW1hZ2VGaWxlKTtcbiAgZm9ybURhdGEuYXBwZW5kKFwicGF0aE5hbWVcIiwgXCJwcm9kdWN0X2ltYWdlc1wiKTtcblxuICBsZXQgbGFzdEVycm9yOiBFcnJvciB8IG51bGwgPSBudWxsO1xuICBmb3IgKGxldCBhdHRlbXB0ID0gMTsgYXR0ZW1wdCA8PSBNQVhfVVBMT0FEX1JFVFJJRVM7IGF0dGVtcHQrKykge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhgJHtMT0dfUFJFRklYfSBbJHtyZXF1ZXN0SWR9XSBVcGxvYWQgYXR0ZW1wdCAke2F0dGVtcHR9YCk7XG4gICAgICAvLyBBbHdheXMgdXNlIHJlbGF0aXZlIFVSTCB0byBlbnN1cmUgd2UgaGl0IHRoZSBzYW1lIGVudmlyb25tZW50L3NlcnZlclxuICAgICAgY29uc3QgdXJsID0gXCIvYXBpL3VwbG9hZFwiO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBsZXQgc2VydmVyTWVzc2FnZSA9IFwiXCI7XG4gICAgICAgIGxldCBkZXRhaWxzID0gXCJcIjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBlcnJKc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGNvbnN0IG5hbWUgPSBlcnJKc29uPy5uYW1lO1xuICAgICAgICAgIGNvbnN0IGh0dHBDb2RlID0gZXJySnNvbj8uaHR0cENvZGU7XG4gICAgICAgICAgY29uc3QgY2xvdWRpbmFyeUVycm9yID0gZXJySnNvbj8uY2xvdWRpbmFyeUVycm9yO1xuICAgICAgICAgIHNlcnZlck1lc3NhZ2UgPSBlcnJKc29uPy5lcnJvciB8fCBcIlwiO1xuICAgICAgICAgIGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgIGlmIChuYW1lKSBwYXJ0cy5wdXNoKGBuYW1lPSR7bmFtZX1gKTtcbiAgICAgICAgICBpZiAodHlwZW9mIGh0dHBDb2RlID09PSBcIm51bWJlclwiKSBwYXJ0cy5wdXNoKGBodHRwQ29kZT0ke2h0dHBDb2RlfWApO1xuICAgICAgICAgIGlmIChjbG91ZGluYXJ5RXJyb3IpIHBhcnRzLnB1c2goYGNsb3VkaW5hcnlFcnJvcj0ke3R5cGVvZiBjbG91ZGluYXJ5RXJyb3IgPT09IFwic3RyaW5nXCIgPyBjbG91ZGluYXJ5RXJyb3IgOiBKU09OLnN0cmluZ2lmeShjbG91ZGluYXJ5RXJyb3IpfWApO1xuICAgICAgICAgIGRldGFpbHMgPSBwYXJ0cy5sZW5ndGggPyBgIFske3BhcnRzLmpvaW4oXCIsIFwiKX1dYCA6IFwiXCI7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgaWYgKHRleHQpIHNlcnZlck1lc3NhZ2UgPSB0ZXh0O1xuICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9JHtzZXJ2ZXJNZXNzYWdlID8gYCAtICR7c2VydmVyTWVzc2FnZX1gIDogXCJcIn0ke2RldGFpbHN9YFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgaWYgKCFkYXRhPy51cmwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc3BvbnNlOiBNaXNzaW5nIGltYWdlIFVSTC4gUmVjZWl2ZWQga2V5czogJHtPYmplY3Qua2V5cyhkYXRhIHx8IHt9KS5qb2luKFwiLCBcIil9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKGAke0xPR19QUkVGSVh9IFske3JlcXVlc3RJZH1dIEltYWdlIHVwbG9hZGVkOiAke2RhdGEudXJsfWApO1xuICAgICAgcmV0dXJuIGRhdGEudXJsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsYXN0RXJyb3IgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoXCJVbmtub3duIHVwbG9hZCBlcnJvclwiKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYCR7TE9HX1BSRUZJWH0gWyR7cmVxdWVzdElkfV0gVXBsb2FkIGF0dGVtcHQgJHthdHRlbXB0fSBmYWlsZWQ6ICR7bGFzdEVycm9yLm1lc3NhZ2V9YCk7XG4gICAgICBpZiAoYXR0ZW1wdCA8IE1BWF9VUExPQURfUkVUUklFUykge1xuICAgICAgICBjb25zdCByZXRyeURlbGF5ID0gQkFTRV9SRVRSWV9ERUxBWV9NUyAqIE1hdGgucG93KDIsIGF0dGVtcHQgLSAxKTtcbiAgICAgICAgY29uc29sZS5sb2coYCR7TE9HX1BSRUZJWH0gWyR7cmVxdWVzdElkfV0gUmV0cnlpbmcgYWZ0ZXIgJHtyZXRyeURlbGF5fW1zYCk7XG4gICAgICAgIGF3YWl0IGRlbGF5KHJldHJ5RGVsYXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnNvbGUuZXJyb3IoYCR7TE9HX1BSRUZJWH0gWyR7cmVxdWVzdElkfV0gSW1hZ2UgdXBsb2FkIGZhaWxlZCBhZnRlciAke01BWF9VUExPQURfUkVUUklFU30gYXR0ZW1wdHNgKTtcbiAgdGhyb3cgbGFzdEVycm9yIHx8IG5ldyBFcnJvcihcIkltYWdlIHVwbG9hZCBmYWlsZWRcIik7XG59O1xuXG4vKipcbiAqIFJldmFsaWRhdGVzIGNhY2hlIGZvciByZWxldmFudCBwYXRocyBpbiBhIGJhdGNoLlxuICogQHBhcmFtIHByb2R1Y3RJZCAtIE9wdGlvbmFsIHByb2R1Y3QgSUQgZm9yIHNwZWNpZmljIHBhdGhzLlxuICovXG5jb25zdCByZXZhbGlkYXRlUGF0aHMgPSBhc3luYyAocHJvZHVjdElkPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGNvbnN0IHBhdGhzID0gW1xuICAgIGAvJHtSb3V0ZXMuTUVOVX1gLFxuICAgIGAvJHtSb3V0ZXMuQURNSU59LyR7UGFnZXMuTUVOVV9JVEVNU31gLFxuICAgIHByb2R1Y3RJZCA/IGAvJHtSb3V0ZXMuQURNSU59LyR7UGFnZXMuTUVOVV9JVEVNU30vJHtwcm9kdWN0SWR9LyR7UGFnZXMuRURJVH1gIDogbnVsbCxcbiAgICBcIi9cIixcbiAgXS5maWx0ZXIoQm9vbGVhbikgYXMgc3RyaW5nW107XG5cbiAgY29uc29sZS5sb2coYCR7TE9HX1BSRUZJWH0gUmV2YWxpZGF0aW5nIHBhdGhzOiAke3BhdGhzLmpvaW4oXCIsIFwiKX1gKTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwocGF0aHMubWFwKChwYXRoKSA9PiByZXZhbGlkYXRlUGF0aChwYXRoKSkpO1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgcHJvZHVjdCBvcHRpb25zICh0ZWNocyBhbmQgYWRkb25zKS5cbiAqIEBwYXJhbSBvcHRpb25zIC0gUHJvZHVjdFRlY2hzIGFuZCBQcm9kdWN0QWRkb25zIGFycmF5cy5cbiAqIEByZXR1cm5zIEFjdGlvblJlc3BvbnNlIGlmIHZhbGlkYXRpb24gZmFpbHMsIG51bGwgb3RoZXJ3aXNlLlxuICovXG5jb25zdCB2YWxpZGF0ZU9wdGlvbnMgPSAob3B0aW9uczogUHJvZHVjdE9wdGlvbnMpOiBBY3Rpb25SZXNwb25zZSB8IG51bGwgPT4ge1xuICAvLyBWYWxpZGF0ZSBwcm9kdWN0VGVjaHNcbiAgaWYgKG9wdGlvbnMucHJvZHVjdFRlY2hzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6IDQwMCxcbiAgICAgIG1lc3NhZ2U6IFwiQXQgbGVhc3Qgb25lIHRlY2hub2xvZ3kgaXMgcmVxdWlyZWRcIixcbiAgICB9O1xuICB9XG4gIGZvciAoY29uc3QgdGVjaCBvZiBvcHRpb25zLnByb2R1Y3RUZWNocykge1xuICAgIGlmICghdGVjaC5uYW1lPy50cmltKCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICBtZXNzYWdlOiBcIkFsbCB0ZWNobm9sb2dpZXMgbXVzdCBoYXZlIGEgdmFsaWQgbmFtZVwiLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyBWYWxpZGF0ZSBwcm9kdWN0QWRkb25zXG4gIGlmIChvcHRpb25zLnByb2R1Y3RBZGRvbnMubGVuZ3RoICE9PSAxKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1czogNDAwLFxuICAgICAgbWVzc2FnZTogXCJFeGFjdGx5IG9uZSBwcm9kdWN0IGFkZG9uIGlzIHJlcXVpcmVkXCIsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IGFkZG9uID0gb3B0aW9ucy5wcm9kdWN0QWRkb25zWzBdO1xuICBpZiAoIWFkZG9uLm5hbWUgfHwgIU9iamVjdC52YWx1ZXMoUGFja2FnZU9wdGlvbikuaW5jbHVkZXMoYWRkb24ubmFtZSBhcyBQYWNrYWdlT3B0aW9uKSkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6IDQwMCxcbiAgICAgIG1lc3NhZ2U6IGBJbnZhbGlkIGFkZG9uIG5hbWU6ICR7YWRkb24ubmFtZSB8fCBcInVuZGVmaW5lZFwifS4gRXhwZWN0ZWQgb25lIG9mOiAke09iamVjdC52YWx1ZXMoUGFja2FnZU9wdGlvbikuam9pbihcIiwgXCIpfWAsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgbmV3IHByb2R1Y3QgdG8gdGhlIGRhdGFiYXNlLlxuICogQHBhcmFtIGFyZ3MgLSBDYXRlZ29yeSBJRCBhbmQgcHJvZHVjdCBvcHRpb25zLlxuICogQHBhcmFtIF9wcmV2U3RhdGUgLSBQcmV2aW91cyBzdGF0ZSAodW51c2VkKS5cbiAqIEBwYXJhbSBmb3JtRGF0YSAtIEZvcm0gZGF0YSBjb250YWluaW5nIHByb2R1Y3QgZGV0YWlscy5cbiAqIEByZXR1cm5zIEFjdGlvblJlc3BvbnNlIHdpdGggc3RhdHVzIGFuZCBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgYWRkUHJvZHVjdCA9IGFzeW5jIChcbiAgYXJnczogQWRkUHJvZHVjdEFyZ3MsXG4gIF9wcmV2U3RhdGU6IHVua25vd24sXG4gIGZvcm1EYXRhOiBGb3JtRGF0YVxuKTogUHJvbWlzZTxBY3Rpb25SZXNwb25zZT4gPT4ge1xuICBjb25zdCByZXF1ZXN0SWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICBjb25zb2xlLmxvZyhgJHtMT0dfUFJFRklYfSBbJHtyZXF1ZXN0SWR9XSBQcm9jZXNzaW5nIGFkZFByb2R1Y3RgKTtcblxuICB0cnkge1xuICAgIC8vIExvZyByYXcgZm9ybSBkYXRhXG4gICAgY29uc3QgcmF3RGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgIGZvcm1EYXRhLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIHJhd0RhdGFba2V5XSA9IHZhbHVlIGluc3RhbmNlb2YgRmlsZSA/IGBbRmlsZTogJHt2YWx1ZS5uYW1lfV1gIDogdmFsdWU7XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coYCR7TE9HX1BSRUZJWH0gWyR7cmVxdWVzdElkfV0gUmF3IEZvcm1EYXRhOmAsIHJhd0RhdGEpO1xuXG4gICAgLy8gUGFyc2UgZm9ybSBkYXRhXG4gICAgY29uc3QgcHJvZHVjdFRlY2hzUmF3ID0gZm9ybURhdGEuZ2V0KFwicHJvZHVjdFRlY2hzXCIpIGFzIHN0cmluZyB8IG51bGw7XG4gICAgY29uc3QgcHJvZHVjdEFkZG9uc1JhdyA9IGZvcm1EYXRhLmdldChcInByb2R1Y3RBZGRvbnNcIikgYXMgc3RyaW5nIHwgbnVsbDtcbiAgICBjb25zdCBnaXRIdWJMaW5rUmF3ID0gZm9ybURhdGEuZ2V0KFwiZ2l0SHViTGlua1wiKSBhcyBzdHJpbmcgfCBudWxsO1xuXG4gICAgLy8gUGFyc2UgcHJvZHVjdFRlY2hzIGFzIHN0cmluZ3NcbiAgICBjb25zdCBwcm9kdWN0VGVjaHM6IHsgbmFtZTogc3RyaW5nIH1bXSA9IHByb2R1Y3RUZWNoc1Jhd1xuICAgICAgPyBKU09OLnBhcnNlKHByb2R1Y3RUZWNoc1JhdykubWFwKCh0ZWNoOiB7IG5hbWU6IHN0cmluZyB9KSA9PiAoe1xuICAgICAgICAgIG5hbWU6IHRlY2gubmFtZSxcbiAgICAgICAgfSkpXG4gICAgICA6IFtdO1xuXG4gICAgLy8gVmFsaWRhdGUgYW5kIHBhcnNlIHByb2R1Y3RBZGRvbnNcbiAgICBjb25zdCBwcm9kdWN0QWRkb25zOiB7IG5hbWU6IFBhY2thZ2VPcHRpb24gfVtdID0gcHJvZHVjdEFkZG9uc1Jhd1xuICAgICAgPyBKU09OLnBhcnNlKHByb2R1Y3RBZGRvbnNSYXcpLm1hcCgoYWRkb246IHsgbmFtZTogc3RyaW5nIH0pID0+IHtcbiAgICAgICAgICBpZiAoIU9iamVjdC52YWx1ZXMoUGFja2FnZU9wdGlvbikuaW5jbHVkZXMoYWRkb24ubmFtZSBhcyBQYWNrYWdlT3B0aW9uKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFkZG9uIG5hbWU6ICR7YWRkb24ubmFtZX0uIEV4cGVjdGVkIG9uZSBvZjogJHtPYmplY3QudmFsdWVzKFBhY2thZ2VPcHRpb24pLmpvaW4oXCIsIFwiKX1gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHsgbmFtZTogYWRkb24ubmFtZSBhcyBQYWNrYWdlT3B0aW9uIH07XG4gICAgICAgIH0pXG4gICAgICA6IFtdO1xuXG4gICAgY29uc3QgZ2l0SHViTGluayA9IGdpdEh1YkxpbmtSYXcgPT09IFwiXCIgfHwgZ2l0SHViTGlua1JhdyA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IGdpdEh1YkxpbmtSYXc7XG5cbiAgICAvLyBQcmVwYXJlIHZhbGlkYXRpb24gaW5wdXRcbiAgICBjb25zdCB2YWxpZGF0aW9uSW5wdXQ6IFBhcnRpYWw8UHJvZHVjdFZhbGlkYXRlZERhdGE+ID0ge1xuICAgICAgbmFtZTogZm9ybURhdGEuZ2V0KFwibmFtZVwiKSBhcyBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgICBkZXNjcmlwdGlvbjogZm9ybURhdGEuZ2V0KFwiZGVzY3JpcHRpb25cIikgYXMgc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgICAgY2F0ZWdvcnlJZDogYXJncy5jYXRlZ29yeUlkLFxuICAgICAgaW1hZ2U6IGZvcm1EYXRhLmdldChcImltYWdlXCIpIGFzIEZpbGUgfCB1bmRlZmluZWQsXG4gICAgICBwcm9kdWN0VGVjaHMsXG4gICAgICBwcm9kdWN0QWRkb25zLFxuICAgICAgbGl2ZURlbW9MaW5rOiBmb3JtRGF0YS5nZXQoXCJsaXZlRGVtb0xpbmtcIikgYXMgc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgICAgZ2l0SHViTGluayxcbiAgICB9O1xuICAgIGNvbnNvbGUubG9nKGAke0xPR19QUkVGSVh9IFske3JlcXVlc3RJZH1dIFZhbGlkYXRpb24gSW5wdXQ6YCwgdmFsaWRhdGlvbklucHV0KTtcblxuICAgIC8vIFZhbGlkYXRlIGZvcm0gZGF0YSB1c2luZyBab2Qgc2NoZW1hXG4gICAgY29uc3QgcmVzdWx0ID0gYWRkUHJvZHVjdFNjaGVtYSgpLnNhZmVQYXJzZSh2YWxpZGF0aW9uSW5wdXQpO1xuXG4gICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgY29uc3QgZXJyb3JEZXRhaWxzID0gcmVzdWx0LmVycm9yLmZsYXR0ZW4oKTtcbiAgICAgIGNvbnNvbGUubG9nKGAke0xPR19QUkVGSVh9IFske3JlcXVlc3RJZH1dIFZhbGlkYXRpb24gRXJyb3JzOmAsIGVycm9yRGV0YWlscyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGZvcm0gZGF0YVwiLFxuICAgICAgICBlcnJvcjogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGVycm9yRGV0YWlscy5maWVsZEVycm9ycykubWFwKChba2V5LCB2YWx1ZV0pID0+IFtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHZhbHVlPy5qb2luKFwiLCBcIikgfHwgXCJcIixcbiAgICAgICAgICBdKVxuICAgICAgICApLFxuICAgICAgICBmb3JtRGF0YSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBuYW1lLCBkZXNjcmlwdGlvbiwgY2F0ZWdvcnlJZCwgaW1hZ2UsIHByb2R1Y3RUZWNoczogdmFsaWRhdGVkVGVjaHMsIHByb2R1Y3RBZGRvbnM6IHZhbGlkYXRlZEFkZG9ucywgbGl2ZURlbW9MaW5rLCBnaXRIdWJMaW5rOiB2YWxpZGF0ZWRHaXRIdWJMaW5rIH0gPSByZXN1bHQuZGF0YTtcblxuICAgIGNvbnNvbGUubG9nKGAke0xPR19QUkVGSVh9IFske3JlcXVlc3RJZH1dIFZhbGlkYXRlZCBEYXRhOmAsIHtcbiAgICAgIG5hbWUsXG4gICAgICBkZXNjcmlwdGlvbixcbiAgICAgIGNhdGVnb3J5SWQsXG4gICAgICBsaXZlRGVtb0xpbmssXG4gICAgICBnaXRIdWJMaW5rOiB2YWxpZGF0ZWRHaXRIdWJMaW5rLFxuICAgICAgcHJvZHVjdFRlY2hzOiB2YWxpZGF0ZWRUZWNocyxcbiAgICAgIHByb2R1Y3RBZGRvbnM6IHZhbGlkYXRlZEFkZG9ucyxcbiAgICB9KTtcblxuICAgIC8vIFZhbGlkYXRlIGltYWdlXG4gICAgY29uc3QgaW1hZ2VGaWxlID0gaW1hZ2UgYXMgRmlsZTtcbiAgICBpZiAoIWltYWdlRmlsZSB8fCBpbWFnZUZpbGUuc2l6ZSA9PT0gMCkge1xuICAgICAgY29uc29sZS5lcnJvcihgJHtMT0dfUFJFRklYfSBbJHtyZXF1ZXN0SWR9XSBObyBpbWFnZSBwcm92aWRlZGApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiQW4gaW1hZ2UgaXMgcmVxdWlyZWRcIixcbiAgICAgICAgZXJyb3I6IHsgaW1hZ2U6IFwiSW1hZ2UgaXMgcmVxdWlyZWRcIiB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBVcGxvYWQgaW1hZ2VcbiAgICBjb25zdCBpbWFnZVVybCA9IGF3YWl0IHVwbG9hZEltYWdlKGltYWdlRmlsZSk7XG5cbiAgICAvLyBWYWxpZGF0ZSBvcHRpb25zXG4gICAgY29uc3Qgb3B0aW9uc1ZhbGlkYXRpb24gPSB2YWxpZGF0ZU9wdGlvbnMoe1xuICAgICAgcHJvZHVjdFRlY2hzOiB2YWxpZGF0ZWRUZWNocy5tYXAoKHRlY2gpID0+ICh7IG5hbWU6IHRlY2gubmFtZSB9KSksXG4gICAgICBwcm9kdWN0QWRkb25zOiB2YWxpZGF0ZWRBZGRvbnMubWFwKChhZGRvbikgPT4gKHsgbmFtZTogYWRkb24ubmFtZSBhcyBQYWNrYWdlT3B0aW9uIH0pKSxcbiAgICB9KTtcbiAgICBpZiAob3B0aW9uc1ZhbGlkYXRpb24pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYCR7TE9HX1BSRUZJWH0gWyR7cmVxdWVzdElkfV0gT3B0aW9ucyB2YWxpZGF0aW9uIGZhaWxlZDogJHtvcHRpb25zVmFsaWRhdGlvbi5tZXNzYWdlfWApO1xuICAgICAgcmV0dXJuIG9wdGlvbnNWYWxpZGF0aW9uO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBwcm9kdWN0IGFuZCByZWxhdGVkIGVudGl0aWVzIGluIGEgdHJhbnNhY3Rpb25cbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgZGIuJHRyYW5zYWN0aW9uKGFzeW5jICh0eCkgPT4ge1xuICAgICAgY29uc3QgY3JlYXRlZCA9IGF3YWl0IHR4LnByb2R1Y3QuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgaW1hZ2U6IGltYWdlVXJsLFxuICAgICAgICAgIGNhdGVnb3J5SWQsXG4gICAgICAgICAgbGl2ZURlbW9MaW5rOiBsaXZlRGVtb0xpbmsgfHwgbnVsbCxcbiAgICAgICAgICBnaXRIdWJMaW5rOiB2YWxpZGF0ZWRHaXRIdWJMaW5rIHx8IG51bGwsXG4gICAgICAgICAgb3JkZXI6IDAsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgaWYgKHZhbGlkYXRlZFRlY2hzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXdhaXQgdHgucHJvZHVjdFRlY2guY3JlYXRlTWFueSh7XG4gICAgICAgICAgZGF0YTogdmFsaWRhdGVkVGVjaHMubWFwKCh0ZWNoKSA9PiAoe1xuICAgICAgICAgICAgcHJvZHVjdElkOiBjcmVhdGVkLmlkLFxuICAgICAgICAgICAgbmFtZTogdGVjaC5uYW1lLFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh2YWxpZGF0ZWRBZGRvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBhd2FpdCB0eC5wcm9kdWN0QWRkb24uY3JlYXRlTWFueSh7XG4gICAgICAgICAgZGF0YTogdmFsaWRhdGVkQWRkb25zLm1hcCgoYWRkb24pID0+ICh7XG4gICAgICAgICAgICBwcm9kdWN0SWQ6IGNyZWF0ZWQuaWQsXG4gICAgICAgICAgICBuYW1lOiBhZGRvbi5uYW1lIGFzIFBhY2thZ2VPcHRpb24sXG4gICAgICAgICAgfSkpLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZyhgJHtMT0dfUFJFRklYfSBbJHtyZXF1ZXN0SWR9XSBQcm9kdWN0IGNyZWF0ZWQ6ICR7cHJvZHVjdC5pZH1gKTtcblxuICAgIC8vIFJldmFsaWRhdGUgY2FjaGVcbiAgICBhd2FpdCByZXZhbGlkYXRlUGF0aHMoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6IDIwMSxcbiAgICAgIG1lc3NhZ2U6IFwiUHJvZHVjdCBhZGRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYCR7TE9HX1BSRUZJWH0gWyR7cmVxdWVzdElkfV0gRXJyb3I6YCwgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6IDUwMCxcbiAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgdG8gYWRkIHByb2R1Y3Q6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIn1gLFxuICAgIH07XG4gIH1cbn07XG5cbi8qKlxuICogVXBkYXRlcyBhbiBleGlzdGluZyBwcm9kdWN0IGluIHRoZSBkYXRhYmFzZS5cbiAqIEBwYXJhbSBhcmdzIC0gUHJvZHVjdCBJRCBhbmQgcHJvZHVjdCBvcHRpb25zLlxuICogQHBhcmFtIF9wcmV2U3RhdGUgLSBQcmV2aW91cyBzdGF0ZSAodW51c2VkKS5cbiAqIEBwYXJhbSBmb3JtRGF0YSAtIEZvcm0gZGF0YSBjb250YWluaW5nIHVwZGF0ZWQgcHJvZHVjdCBkZXRhaWxzLlxuICogQHJldHVybnMgQWN0aW9uUmVzcG9uc2Ugd2l0aCBzdGF0dXMgYW5kIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9kdWN0ID0gYXN5bmMgKFxuICBhcmdzOiBVcGRhdGVQcm9kdWN0QXJncyxcbiAgX3ByZXZTdGF0ZTogdW5rbm93bixcbiAgZm9ybURhdGE6IEZvcm1EYXRhXG4pOiBQcm9taXNlPEFjdGlvblJlc3BvbnNlPiA9PiB7XG4gIGNvbnN0IHJlcXVlc3RJZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gIGNvbnNvbGUubG9nKGAke0xPR19QUkVGSVh9IFske3JlcXVlc3RJZH1dIFByb2Nlc3NpbmcgdXBkYXRlUHJvZHVjdCBmb3IgSUQ6ICR7YXJncy5wcm9kdWN0SWR9YCk7XG5cbiAgdHJ5IHtcbiAgICAvLyBMb2cgcmF3IGZvcm0gZGF0YVxuICAgIGNvbnN0IHJhd0RhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICBmb3JtRGF0YS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICByYXdEYXRhW2tleV0gPSB2YWx1ZSBpbnN0YW5jZW9mIEZpbGUgPyBgW0ZpbGU6ICR7dmFsdWUubmFtZX1dYCA6IHZhbHVlO1xuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKGAke0xPR19QUkVGSVh9IFske3JlcXVlc3RJZH1dIFJhdyBGb3JtRGF0YTpgLCByYXdEYXRhKTtcblxuICAgIC8vIFBhcnNlIGZvcm0gZGF0YVxuICAgIGNvbnN0IHByb2R1Y3RUZWNoc1JhdyA9IGZvcm1EYXRhLmdldChcInByb2R1Y3RUZWNoc1wiKSBhcyBzdHJpbmcgfCBudWxsO1xuICAgIGNvbnN0IHByb2R1Y3RBZGRvbnNSYXcgPSBmb3JtRGF0YS5nZXQoXCJwcm9kdWN0QWRkb25zXCIpIGFzIHN0cmluZyB8IG51bGw7XG4gICAgY29uc3QgZ2l0SHViTGlua1JhdyA9IGZvcm1EYXRhLmdldChcImdpdEh1YkxpbmtcIikgYXMgc3RyaW5nIHwgbnVsbDtcblxuICAgIC8vIFBhcnNlIHByb2R1Y3RUZWNocyBhcyBzdHJpbmdzXG4gICAgY29uc3QgcHJvZHVjdFRlY2hzOiB7IG5hbWU6IHN0cmluZyB9W10gPSBwcm9kdWN0VGVjaHNSYXdcbiAgICAgID8gSlNPTi5wYXJzZShwcm9kdWN0VGVjaHNSYXcpLm1hcCgodGVjaDogeyBuYW1lOiBzdHJpbmcgfSkgPT4gKHtcbiAgICAgICAgICBuYW1lOiB0ZWNoLm5hbWUsXG4gICAgICAgIH0pKVxuICAgICAgOiBbXTtcblxuICAgIC8vIFZhbGlkYXRlIGFuZCBwYXJzZSBwcm9kdWN0QWRkb25zXG4gICAgY29uc3QgcHJvZHVjdEFkZG9uczogeyBuYW1lOiBQYWNrYWdlT3B0aW9uIH1bXSA9IHByb2R1Y3RBZGRvbnNSYXdcbiAgICAgID8gSlNPTi5wYXJzZShwcm9kdWN0QWRkb25zUmF3KS5tYXAoKGFkZG9uOiB7IG5hbWU6IHN0cmluZyB9KSA9PiB7XG4gICAgICAgICAgaWYgKCFPYmplY3QudmFsdWVzKFBhY2thZ2VPcHRpb24pLmluY2x1ZGVzKGFkZG9uLm5hbWUgYXMgUGFja2FnZU9wdGlvbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhZGRvbiBuYW1lOiAke2FkZG9uLm5hbWV9LiBFeHBlY3RlZCBvbmUgb2Y6ICR7T2JqZWN0LnZhbHVlcyhQYWNrYWdlT3B0aW9uKS5qb2luKFwiLCBcIil9YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7IG5hbWU6IGFkZG9uLm5hbWUgYXMgUGFja2FnZU9wdGlvbiB9O1xuICAgICAgICB9KVxuICAgICAgOiBbXTtcblxuICAgIGNvbnN0IGdpdEh1YkxpbmsgPSBnaXRIdWJMaW5rUmF3ID09PSBcIlwiIHx8IGdpdEh1YkxpbmtSYXcgPT09IG51bGwgPyB1bmRlZmluZWQgOiBnaXRIdWJMaW5rUmF3O1xuXG4gICAgLy8gUHJlcGFyZSB2YWxpZGF0aW9uIGlucHV0XG4gICAgY29uc3QgdmFsaWRhdGlvbklucHV0OiBQYXJ0aWFsPFByb2R1Y3RWYWxpZGF0ZWREYXRhPiA9IHtcbiAgICAgIG5hbWU6IGZvcm1EYXRhLmdldChcIm5hbWVcIikgYXMgc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgICAgZGVzY3JpcHRpb246IGZvcm1EYXRhLmdldChcImRlc2NyaXB0aW9uXCIpIGFzIHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICAgIGNhdGVnb3J5SWQ6IGZvcm1EYXRhLmdldChcImNhdGVnb3J5SWRcIikgYXMgc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgICAgaW1hZ2U6IGZvcm1EYXRhLmdldChcImltYWdlXCIpIGFzIEZpbGUgfCB1bmRlZmluZWQsXG4gICAgICBwcm9kdWN0VGVjaHMsXG4gICAgICBwcm9kdWN0QWRkb25zLFxuICAgICAgbGl2ZURlbW9MaW5rOiBmb3JtRGF0YS5nZXQoXCJsaXZlRGVtb0xpbmtcIikgYXMgc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgICAgZ2l0SHViTGluayxcbiAgICB9O1xuICAgIGNvbnNvbGUubG9nKGAke0xPR19QUkVGSVh9IFske3JlcXVlc3RJZH1dIFZhbGlkYXRpb24gSW5wdXQ6YCwgdmFsaWRhdGlvbklucHV0KTtcblxuICAgIC8vIFZhbGlkYXRlIGZvcm0gZGF0YSB1c2luZyBab2Qgc2NoZW1hXG4gICAgY29uc3QgcmVzdWx0ID0gYWRkUHJvZHVjdFNjaGVtYSgpLnNhZmVQYXJzZSh2YWxpZGF0aW9uSW5wdXQpO1xuXG4gICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgY29uc3QgZXJyb3JEZXRhaWxzID0gcmVzdWx0LmVycm9yLmZsYXR0ZW4oKTtcbiAgICAgIGNvbnNvbGUubG9nKGAke0xPR19QUkVGSVh9IFske3JlcXVlc3RJZH1dIFZhbGlkYXRpb24gRXJyb3JzOmAsIGVycm9yRGV0YWlscyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGZvcm0gZGF0YVwiLFxuICAgICAgICBlcnJvcjogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGVycm9yRGV0YWlscy5maWVsZEVycm9ycykubWFwKChba2V5LCB2YWx1ZV0pID0+IFtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHZhbHVlPy5qb2luKFwiLCBcIikgfHwgXCJcIixcbiAgICAgICAgICBdKVxuICAgICAgICApLFxuICAgICAgICBmb3JtRGF0YSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBuYW1lLCBkZXNjcmlwdGlvbiwgY2F0ZWdvcnlJZCwgaW1hZ2UsIHByb2R1Y3RUZWNoczogdmFsaWRhdGVkVGVjaHMsIHByb2R1Y3RBZGRvbnM6IHZhbGlkYXRlZEFkZG9ucywgbGl2ZURlbW9MaW5rLCBnaXRIdWJMaW5rOiB2YWxpZGF0ZWRHaXRIdWJMaW5rIH0gPSByZXN1bHQuZGF0YTtcblxuICAgIGNvbnNvbGUubG9nKGAke0xPR19QUkVGSVh9IFske3JlcXVlc3RJZH1dIFZhbGlkYXRlZCBEYXRhOmAsIHtcbiAgICAgIG5hbWUsXG4gICAgICBkZXNjcmlwdGlvbixcbiAgICAgIGNhdGVnb3J5SWQsXG4gICAgICBsaXZlRGVtb0xpbmssXG4gICAgICBnaXRIdWJMaW5rOiB2YWxpZGF0ZWRHaXRIdWJMaW5rLFxuICAgICAgcHJvZHVjdFRlY2hzOiB2YWxpZGF0ZWRUZWNocyxcbiAgICAgIHByb2R1Y3RBZGRvbnM6IHZhbGlkYXRlZEFkZG9ucyxcbiAgICB9KTtcblxuICAgIC8vIENoZWNrIGlmIHByb2R1Y3QgZXhpc3RzXG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IGRiLnByb2R1Y3QuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyBpZDogYXJncy5wcm9kdWN0SWQgfSxcbiAgICB9KTtcbiAgICBpZiAoIXByb2R1Y3QpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYCR7TE9HX1BSRUZJWH0gWyR7cmVxdWVzdElkfV0gUHJvZHVjdCBub3QgZm91bmQ6ICR7YXJncy5wcm9kdWN0SWR9YCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6IDQwNCxcbiAgICAgICAgbWVzc2FnZTogXCJQcm9kdWN0IG5vdCBmb3VuZFwiLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgaW1hZ2UgdXBsb2FkIGlmIHByb3ZpZGVkXG4gICAgbGV0IGltYWdlVXJsID0gcHJvZHVjdC5pbWFnZTtcbiAgICBjb25zdCBpbWFnZUZpbGUgPSBpbWFnZSBhcyBGaWxlIHwgbnVsbDtcbiAgICBpZiAoaW1hZ2VGaWxlICYmIGltYWdlRmlsZS5zaXplID4gMCkge1xuICAgICAgaW1hZ2VVcmwgPSBhd2FpdCB1cGxvYWRJbWFnZShpbWFnZUZpbGUpO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIG9wdGlvbnNcbiAgICBjb25zdCBvcHRpb25zVmFsaWRhdGlvbiA9IHZhbGlkYXRlT3B0aW9ucyh7XG4gICAgICBwcm9kdWN0VGVjaHM6IHZhbGlkYXRlZFRlY2hzLm1hcCgodGVjaCkgPT4gKHsgbmFtZTogdGVjaC5uYW1lIH0pKSxcbiAgICAgIHByb2R1Y3RBZGRvbnM6IHZhbGlkYXRlZEFkZG9ucy5tYXAoKGFkZG9uKSA9PiAoeyBuYW1lOiBhZGRvbi5uYW1lIGFzIFBhY2thZ2VPcHRpb24gfSkpLFxuICAgIH0pO1xuICAgIGlmIChvcHRpb25zVmFsaWRhdGlvbikge1xuICAgICAgY29uc29sZS5lcnJvcihgJHtMT0dfUFJFRklYfSBbJHtyZXF1ZXN0SWR9XSBPcHRpb25zIHZhbGlkYXRpb24gZmFpbGVkOiAke29wdGlvbnNWYWxpZGF0aW9uLm1lc3NhZ2V9YCk7XG4gICAgICByZXR1cm4gb3B0aW9uc1ZhbGlkYXRpb247XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHByb2R1Y3QgaW4gYSB0cmFuc2FjdGlvblxuICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgZGIuJHRyYW5zYWN0aW9uKGFzeW5jICh0eCkgPT4ge1xuICAgICAgY29uc3QgcHJvZHVjdFVwZGF0ZSA9IGF3YWl0IHR4LnByb2R1Y3QudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGFyZ3MucHJvZHVjdElkIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgIGltYWdlOiBpbWFnZVVybCxcbiAgICAgICAgICBjYXRlZ29yeUlkLFxuICAgICAgICAgIGxpdmVEZW1vTGluazogbGl2ZURlbW9MaW5rIHx8IG51bGwsXG4gICAgICAgICAgZ2l0SHViTGluazogdmFsaWRhdGVkR2l0SHViTGluayB8fCBudWxsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHR4LnByb2R1Y3RUZWNoLmRlbGV0ZU1hbnkoeyB3aGVyZTogeyBwcm9kdWN0SWQ6IGFyZ3MucHJvZHVjdElkIH0gfSk7XG4gICAgICBhd2FpdCB0eC5wcm9kdWN0QWRkb24uZGVsZXRlTWFueSh7IHdoZXJlOiB7IHByb2R1Y3RJZDogYXJncy5wcm9kdWN0SWQgfSB9KTtcblxuICAgICAgYXdhaXQgdHgucHJvZHVjdFRlY2guY3JlYXRlTWFueSh7XG4gICAgICAgIGRhdGE6IHZhbGlkYXRlZFRlY2hzLm1hcCgodGVjaCkgPT4gKHtcbiAgICAgICAgICBwcm9kdWN0SWQ6IGFyZ3MucHJvZHVjdElkLFxuICAgICAgICAgIG5hbWU6IHRlY2gubmFtZSwgLy8gU3RvcmUgYXMgc3RyaW5nXG4gICAgICAgIH0pKSxcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB0eC5wcm9kdWN0QWRkb24uY3JlYXRlTWFueSh7XG4gICAgICAgIGRhdGE6IHZhbGlkYXRlZEFkZG9ucy5tYXAoKGFkZG9uKSA9PiAoe1xuICAgICAgICAgIHByb2R1Y3RJZDogYXJncy5wcm9kdWN0SWQsXG4gICAgICAgICAgbmFtZTogYWRkb24ubmFtZSBhcyBQYWNrYWdlT3B0aW9uLFxuICAgICAgICB9KSksXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHByb2R1Y3RVcGRhdGU7XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZyhgJHtMT0dfUFJFRklYfSBbJHtyZXF1ZXN0SWR9XSBQcm9kdWN0IHVwZGF0ZWQ6ICR7dXBkYXRlZFByb2R1Y3QuaWR9YCk7XG5cbiAgICAvLyBSZXZhbGlkYXRlIGNhY2hlXG4gICAgYXdhaXQgcmV2YWxpZGF0ZVBhdGhzKHVwZGF0ZWRQcm9kdWN0LmlkKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6IDIwMCxcbiAgICAgIG1lc3NhZ2U6IFwiUHJvZHVjdCB1cGRhdGVkIHN1Y2Nlc3NmdWxseVwiLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgJHtMT0dfUFJFRklYfSBbJHtyZXF1ZXN0SWR9XSBFcnJvcjpgLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1czogNTAwLFxuICAgICAgbWVzc2FnZTogYEZhaWxlZCB0byB1cGRhdGUgcHJvZHVjdDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwifWAsXG4gICAgfTtcbiAgfVxufTtcblxuLyoqXG4gKiBEZWxldGVzIGEgcHJvZHVjdCBmcm9tIHRoZSBkYXRhYmFzZS5cbiAqIEBwYXJhbSBpZCAtIFRoZSBJRCBvZiB0aGUgcHJvZHVjdCB0byBkZWxldGUuXG4gKiBAcmV0dXJucyBBY3Rpb25SZXNwb25zZSB3aXRoIHN0YXR1cyBhbmQgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2R1Y3QgPSBhc3luYyAoaWQ6IHN0cmluZyk6IFByb21pc2U8QWN0aW9uUmVzcG9uc2U+ID0+IHtcbiAgY29uc3QgcmVxdWVzdElkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgY29uc29sZS5sb2coYCR7TE9HX1BSRUZJWH0gWyR7cmVxdWVzdElkfV0gUHJvY2Vzc2luZyBkZWxldGVQcm9kdWN0IGZvciBJRDogJHtpZH1gKTtcblxuICB0cnkge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBkYi5wcm9kdWN0LmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICB9KTtcbiAgICBpZiAoIXByb2R1Y3QpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYCR7TE9HX1BSRUZJWH0gWyR7cmVxdWVzdElkfV0gUHJvZHVjdCBub3QgZm91bmQ6ICR7aWR9YCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6IDQwNCxcbiAgICAgICAgbWVzc2FnZTogXCJQcm9kdWN0IG5vdCBmb3VuZFwiLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBhd2FpdCBkYi5wcm9kdWN0LmRlbGV0ZSh7XG4gICAgICB3aGVyZTogeyBpZCB9LFxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coYCR7TE9HX1BSRUZJWH0gWyR7cmVxdWVzdElkfV0gUHJvZHVjdCBkZWxldGVkOiAke2lkfWApO1xuXG4gICAgLy8gUmV2YWxpZGF0ZSBjYWNoZVxuICAgIGF3YWl0IHJldmFsaWRhdGVQYXRocyhpZCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICBtZXNzYWdlOiBcIlByb2R1Y3QgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYCR7TE9HX1BSRUZJWH0gWyR7cmVxdWVzdElkfV0gRXJyb3I6YCwgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6IDUwMCxcbiAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgdG8gZGVsZXRlIHByb2R1Y3Q6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIn1gLFxuICAgIH07XG4gIH1cbn07Il0sIm5hbWVzIjpbImFkZFByb2R1Y3QiLCJ1cGRhdGVQcm9kdWN0IiwiZGVsZXRlUHJvZHVjdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/admin/menu-items/_actions/product.ts\n"));

/***/ })

});